// ARGS: --dump-ir
// EXPECTED_OUTPUT: <function: main> (params: 0, slots: 1)
// EXPECTED_OUTPUT: PUSH_I32            16
// EXPECTED_OUTPUT: CALL                addr 25 args 1 <malloc>
// EXPECTED_OUTPUT: STORE_VAR           slot 0
// EXPECTED_OUTPUT: LOAD_VAR            slot 0
// EXPECTED_OUTPUT: CALL                addr 36 args 1 <free>
#include "std/io.eth"

i32 main() {
    ptr(i32) p = malloc(16);
    // Array access [] not supported yet, just testing valid malloc/free IR
    free(p);
    return 0;
}
